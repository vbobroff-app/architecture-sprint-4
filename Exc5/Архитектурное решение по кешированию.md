### Кэширование

Цель кэширования - снять нагрузку с сервера за счет предоставления клиенту информации из кэша. 

### Мотивация

Внедрение кэширования позволит:

* повысить отзывчисвость приложения
* решить проблему с торможением получения данных в браузере со списком товаров
* ускорить подачу информации о расчетах в MES, если модель уже рассчитана, ее не нужно рассчитывать заново

В приложении целесообразно применить:

* Кэширование на стороне клиента: для сохранения в браузере копии ресурсов, в локальной памяти. Это позволит браузеру быстро загружать ресурсы без повторной загрузки с сервера при последующих запросах.

* Кэширование на стороне сервера: данные кэшируются на сервере, что позволяет серверу отвечать на запросы быстрее, так как он не должен выполнять постоянные  запросы к базе данных, кроме того возможны различные реализации управления логикой кэша.


### Предлагаемое решение

Кэширование на стороне клиента:
Жалобы от операторов на долгую прогрузку первой страницы MES целесообразно решить локальным клиентским кэшированием. Поскольку формирование закакза длительная поэтапная процедура применение локального кэша к списку заказов является обоснованным. 
Кэширование на стороне сервера:
К API, который MES использует для рачёта стоимости изделий, целесообразно применить серверное кэширование, поскольку запросы к API выполняются несколькими, в том числе внешними сервисами.
Оптимальная стратегия - Write-Through, которая (в отличии от Cache-Aside)  подерживает актуальность данных и исключает их неконсистетность, запросы проходят через кеш и только потом возвращаются клиентам (их может быть несколько).

Инвалидация кэша - Программная, это обосновано формированием заказов с рассчетом стоимости по 3-d моделм, где можно построить логику на уже предрассчитанных моделях.

| Программная | Инвалидация по ключу | Временная | На изменениях | 
| --- | --- | --- | --- | 
| Подходит, позволяет гибко управлять логикой кэша  | Подходит, так как обновляет заказ в списке заказов по id | Не подойдет, так как возможна некосистенция данных | Менее подходит, требует полного обновления кэша| | 


[Диаграмма последовательностей(Sequence diagram)](https://drive.google.com/file/d/1-4Wvys-Kc9uYj8vL0KRDIX1j40KxGTqm/view?usp=sharing)